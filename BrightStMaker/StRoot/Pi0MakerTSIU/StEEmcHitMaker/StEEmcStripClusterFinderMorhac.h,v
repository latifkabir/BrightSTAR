head	1.7;
access;
symbols
	response:1.4;
locks; strict;
comment	@ * @;


1.7
date	2012.11.26.19.40.35;	author sgliske;	state dead;
branches;
next	1.6;

1.6
date	2012.10.09.15.06.54;	author sgliske;	state Exp;
branches;
next	1.5;

1.5
date	2012.05.17.22.47.02;	author sgliske;	state Exp;
branches;
next	1.4;

1.4
date	2012.03.07.22.30.46;	author sgliske;	state Exp;
branches;
next	1.3;

1.3
date	2011.12.09.18.01.26;	author sgliske;	state Exp;
branches;
next	1.2;

1.2
date	2011.12.08.15.43.02;	author sgliske;	state Exp;
branches;
next	1.1;

1.1
date	2011.12.07.22.33.11;	author sgliske;	state Exp;
branches;
next	;


desc
@@


1.7
log
@moved to official StEEmcPool
@
text
@/*!
 * \class StEEmcStripClusterFinderGMM_t
 * \author Stephen Gliske <sgliske@@anl.gov>
 *
 * Use GMM with the AIC criterea for picking the number of clusters.
 *
*/

#ifndef _ST_STRIP_CLUSTER_FINDER_MORHAC_H_
#define _ST_STRIP_CLUSTER_FINDER_MORHAC_H_

#include <TRandom3.h>
#include <TSpectrum.h>


#include "StRoot/StEEmcUtil/EEmcGeom/EEmcGeomDefs.h"

#include "StEEmcStripClusterFinder.h"

class StEEmcStripClusterFinderMorhac_t : public StEEmcStripClusterFinder_t {

 public:
   StEEmcStripClusterFinderMorhac_t( Int_t maxNumPoints = 5, Float_t resolution = 1 );
   virtual ~StEEmcStripClusterFinderMorhac_t();

   /// find some clusters
   virtual Int_t find( const ESmdLayer_t& stripArray, StSimpleClusterVec_t& cluster );

   void setDoMarkov( Bool_t val ){ mDoMarkov = val; };
   void setRemoveBkg( Bool_t val ){ mRemoveBkg = val; };
   void setMinStripsPerCluster( Int_t val ){ mMinStripsPerCluster = val; };
   void setNumDeconIters( Int_t val ){ mNumDeconIters = val; };
   void setAverWindow( Int_t val ){ mAverWindow = val; };
   void setWidth( Float_t val ){ mWidth = val; };
   void setThreshold( Float_t val ){ mThreshold = val; };
   void setMinPeakEnergy( Float_t val ){ mMinPeakEnergy = val; };
   void setMinClusterEnergy( Float_t val ){ mMinClusterEnergy = val; };
   void setNumSmoothIters( Int_t num ){ mNumSmoothIters = num; };

 protected:
   Bool_t mRemoveBkg, mDoMarkov;
   Int_t mMaxNumPoints, mMinStripsPerCluster, mNumDeconIters, mAverWindow, mNumSmoothIters;
   Float_t mWidth, mThreshold, mMinPeakEnergy, mMinClusterEnergy;

   Float_t mStripEnergyArray[kEEmcNumStrips], mSmoothedEnergyArray[kEEmcNumStrips];
   Double_t mStripEnergyArrayTemp[kEEmcNumStrips];
   Float_t mDeconvoluted[kEEmcNumStrips];

   TSpectrum *peakFinderPtr;

 private:
   ClassDef( StEEmcStripClusterFinderMorhac_t, 1 );
};


#endif

/*
 * $Id: StEEmcStripClusterFinderMorhac.h,v 1.6 2012/10/09 15:06:54 sgliske Exp $
 * $Log: StEEmcStripClusterFinderMorhac.h,v $
 * Revision 1.6  2012/10/09 15:06:54  sgliske
 * removed spurious include comment
 *
 * Revision 1.5  2012/05/17 22:47:02  sgliske
 * working on switching to EEmcTree containers
 *
 * Revision 1.4  2012/03/07 22:30:46  sgliske
 * general updates
 *
 * Revision 1.3  2011/12/09 18:01:26  sgliske
 * update
 *
 * Revision 1.2  2011/12/08 15:43:02  sgliske
 * update
 *
 * Revision 1.1  2011/12/07 22:33:11  sgliske
 * update
 *
 *
 */
@


1.6
log
@removed spurious include comment
@
text
@d59 1
a59 1
 * $Id: StEEmcStripClusterFinderMorhac.h,v 1.5 2012/05/17 22:47:02 sgliske Exp $
d61 3
@


1.5
log
@working on switching to EEmcTree containers
@
text
@a18 1
#include "GmmEm1D/GmmEm1D.h"
d59 1
a59 1
 * $Id: StEEmcStripClusterFinderMorhac.h,v 1.4 2012/03/07 22:30:46 sgliske Exp $
d61 3
@


1.4
log
@general updates
@
text
@d15 1
a15 1
#include "StRoot/StEEmcPool/StEEmcA2EMaker/StEEmcStrip.h"
d28 1
a28 1
   virtual Int_t find( const StEEmcStripVec_t& hitStrips, StSimpleClusterVec_t& cluster );
d60 1
a60 1
 * $Id: StEEmcStripClusterFinderMorhac.h,v 1.3 2011/12/09 18:01:26 sgliske Exp $
d62 3
@


1.3
log
@update
@
text
@d39 1
d43 1
a43 1
   Int_t mMaxNumPoints, mMinStripsPerCluster, mNumDeconIters, mAverWindow;
d46 2
a47 1
   Float_t mStripEnergyArray[kEEmcNumStrips];
d60 1
a60 1
 * $Id: StEEmcStripClusterFinderMorhac.h,v 1.2 2011/12/08 15:43:02 sgliske Exp $
d62 3
@


1.2
log
@update
@
text
@d37 1
d42 2
a43 2
   Int_t mMinStripsPerCluster, mNumDeconIters, mAverWindow;
   Float_t mWidth, mThreshold, mMinClusterEnergy;
d58 1
a58 1
 * $Id: StEEmcStripClusterFinderMorhac.h,v 1.1 2011/12/07 22:33:11 sgliske Exp $
d60 3
@


1.1
log
@update
@
text
@d24 1
a24 1
   StEEmcStripClusterFinderMorhac_t( Int_t numDataPts = 1000 );
d30 8
a37 9
   void setMaxNumClusters( Int_t val ){ mMaxNumClusters = val; };
   void setMinNumStripsPerCluster( Int_t val ){ mMaxNumClusters = val; };
   void setNumAttemptsPerNumClusters( Int_t val ){ mAttemptsPerNumClusters = val; };
   void setMinSeedEnergy( Float_t val ){ mMinSeedEnergy = val; };
   void setInitSigma( Float_t val ){ mInitSigmaSq = val*val; };
   void setMinimumAmplitudeFrac( Float_t val ){ mMinimumAmp = val; };
   void setMinStripWeight( Float_t val ){ mMinStripWeight = val; };
   void setAICfactor( Float_t val ){ mAICfactor = val; };
   void setMinSigma( Float_t val ){ mMinSigmaSq = val*val; };
d40 3
a42 3
   Int_t mMinStripsPerCluster;
   Float_t mMinSeedEnergy, mInitSigmaSq, mMinimumAmp, mMinStripWeight, mAICfactor, mMinSigmaSq;

d57 5
a61 2
 * $Id: $
 * $Log: $
@

